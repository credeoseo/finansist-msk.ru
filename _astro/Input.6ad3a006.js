import{v as y}from"./runtime-dom.esm-bundler.03bfd58d.js";/* empty css                       */import{_ as g}from"./Icon.6471b241.js";import{k as d,h as l,c,l as x,b as i,n as u,t as p,i as b,m,f as _,p as S,q as v}from"./runtime-core.esm-bundler.6b7ed402.js";function A(n,t=100){let e;return a=>{e&&clearTimeout(e),e=setTimeout(()=>{typeof n=="function"&&n(a)},t)}}function C(n){return n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")}function f(n){if(!n)return"";const t=n.replace(/\D/g,"").toString().split("");t[0]==="7"||t[0]==="8"?t[0]="7":t.unshift("7");const e=t.join("").match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);return t.length?`+${e[1]}${e[2]&&"("+e[2]}${e[3]&&")-"+e[3]}${e[4]&&"-"+e[4]}${e[5]&&"-"+e[5]}`:""}function F(n,t,e){const a=e/100/12;return t*(a*Math.pow(1+a,n))/(Math.pow(1+a,n)-1)}async function J(n){let t="https://partner.credeo.ru/v1/info/cars/";try{return await(await fetch(`${t}${n?"model?query=&mark="+n:"mark"}`)).json()}catch(e){console.error("Ошибка:",e)}}async function z(n){let t=sessionStorage.getItem("utms");t=t?JSON.parse(t):{};let e;try{return e=await(await fetch("https://partner.credeo.ru/v1/lead/new-guest",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({city:"Moscow",...t,...n})})).json(),!0}catch(a){return console.log(a),!1}}const w={__name:"Input",props:{id:{type:String,default:()=>""},type:{type:String,default:()=>"text"},name:{type:String,default:()=>""},clue:{type:String,default:()=>""},required:{type:Boolean,default:()=>!1},white:{type:Boolean,default:()=>!1},autocomplete:{type:Boolean,default:()=>!1},disabled:{type:Boolean,default:()=>!1},mask:{type:String,default:()=>""},placeholder:{type:String,default:()=>""},modelValue:{type:[String,Number],default:()=>""},maxlength:{type:[String,Number],default:()=>""},minlength:{type:[String,Number],default:()=>""},max:{type:[String,Number],default:()=>""},min:{type:[String,Number],default:()=>""}},emits:["update:modelValue"],setup(n,{expose:t,emit:e}){t();const a=n,r=()=>{a.type==="tel"?o.value=f(o.value):o.value},o=d({get(){return a.modelValue},set(h){e("update:modelValue",h)}}),s={props:a,emit:e,maskFn:r,model:o,computed:d,watch:_,get phoneMask(){return f}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}},k=n=>(S("data-v-f4c11a8b"),n=n(),v(),n),N={class:"relative grid group"},I=["id","name","type","placeholder","autocomplete","inputmode","required","min","max","minlength","maxlength","disabled"],q={class:"absolute inset-0 text-t-2xl leading-[30px] pt-7 px-4 pb-3 block peer-focus-visible:opacity-0"},B=k(()=>i("span",{class:"absolute top-0 left-0 text-red-600 transition-opacity error empty:opacity-0 peer"},null,-1)),V={class:"transition-opacity opacity-0 peer-empty:opacity-100"},j={key:0,class:"text-red-600"};function M(n,t,e,a,r,o){return l(),c("label",N,[x(i("input",{id:e.id,class:u(["placeholder-transparent peer text-t-2xl leading-[30px] w-full ring-inset ring-1 rounded-2.5xl appearance-none focus:outline-none outline-none transition-all",[{"ring-mine-shaft/40 bg-transparent focus-visible:ring-mine-shaft/60 px-4 pt-7 pb-3 h-[68px]":!e.white},{"bg-white ring-transparent hover:ring-mine-shaft focus-visible:ring-mine-shaft rounded-2.5 px-5 pb-3 pt-7 h-14":e.white},{"text-black/0 focus-visible:text-black/100 transition-none ring-mine-shaft/40 focus-visible:ring-mine-shaft/60":e.mask}]]),name:e.name,type:e.type,placeholder:e.placeholder,autocomplete:e.autocomplete,inputmode:e.type==="tel"?"tel":!1,"onUpdate:modelValue":t[0]||(t[0]=s=>a.model=s),onInput:t[1]||(t[1]=s=>a.maskFn()),required:e.required,min:e.min,max:e.max,minlength:e.minlength,maxlength:e.type==="tel"?17:e.maxlength,disabled:e.disabled},null,42,I),[[y,a.model]]),i("span",q,p(e.mask),1),e.placeholder?(l(),c("span",{key:0,class:u(["absolute font-medium transition-all pointer-events-none peer-focus-visible:text-mine-shaft/60 text-mine-shaft/40 peer-placeholder-shown:top-[34px] top-2 peer-focus:top-2 peer-focus:translate-y-0 peer-placeholder-shown:-translate-y-1/2 inset-x-4",e.white?"text-xs":"text-sm peer-placeholder-shown:text-base peer-focus:text-sm"])},[B,i("span",V,[b(p(e.placeholder)+" ",1),e.required?(l(),c("span",j,"*")):m("",!0)])],2)):m("",!0)])}const E=g(w,[["render",M],["__scopeId","data-v-f4c11a8b"]]);export{E as I,A as a,C as d,J as g,F as l,f as p,z as s};
